<div class="container">
  <button 
    routerLink="/messenger"
    type="button" 
    class="close pull-right" 
    data-dismiss="alert" a
    ria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  <div class="jumbotron">
    <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-xs-12 col-sm-6">
          <div class="form-group">
            <h3>Conversation Name</h3>
            <input
              formControlName="name"
              class="form-control"
              type="text">
          </div>
        </div>
        <div class="col-xs-12 col-sm-6">
          <div class="row">
            <div
              formArrayName="participants"
              #participants
              class="col-xs-12">
              <div class="row">
                <h3>Participants
                  <button
                    (click)="onAddParticipant()"
                    [disabled]="!editForm.get('participants').valid"
                    type="button"
                    class="btn btn-success pull-right">Add</button>
                </h3>
                <div
                  class="col-xs-12 participant"
                  *ngFor="let participantCtrl of editForm.get('participants').controls; let i = index">
                  <input
                    [formControlName]="i"
                    class="form-control"
                    type="text">
                  <button 
                    (click)="onRemoveParticipant(i)"
                    type="button" 
                    class="close" 
                    data-dismiss="alert" a
                    ria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xs-12">
          <button class="btn btn-primary" type="submit">Submit</button>
          <button
            *ngIf="editMode"
            (click)="onRemoveConversation()"
            class="btn btn-danger"
            type="button">Delete</button>
        </div>
      </div>
    </form>
  </div>
</div>
